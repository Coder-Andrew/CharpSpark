@model ResuMeta.ViewModels.ResumeVM;
@{
    Layout = null;
    ViewData["Title"] = "Improve Resume - View";
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link id="theme-stylesheet" rel="stylesheet" href="~/css/ViewImproveResumeDark.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdn.quilljs.com/1.0.0/quill.snow.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
</head>

<div class="content">

    <body class="flex-container">
        <div class="text-center">
            <div id="validation-area"></div>
            <div class="alert alert-success alert-dismissable fade show" role="alert" id="validation-success"
                style="display:none;">
            </div>
            <div class="alert alert-danger alert-dismissable fade show" role="alert" id="validation-error"
                style="display:none;">
            </div>

            @if (Model != null)
            {
                <input type="hidden" id="resume-id" value="@Model.ResumeId" />
                <input type="hidden" id="resume-content1" value="@Model.HtmlContent" />
                <div class="container" id="resume-area1" style="display: none;">


                </div>
                <div class="container" id="resume-area2" style="display: none;">

                </div>
                <div class="editor-header">
                    <div class="left-section">
                        <button id="back-button" onclick="window.history.back();">
                            <i class="fa fa-arrow-circle-left"></i>
                        </button>
                        <div class="mt-3 mx-2" style="float: left;">
                            <h6><strong>Title:</strong> <input type="text" id="resume-title" value="@Model.Title" /></h6>


                        </div>
                    </div>
                    <div>
                        <button class="btn btn-primary" id="regenerate-button">Regenerate</button>
                        @* <button class="btn btn-primary" id="save-resume">Save Resume</button> *@
                        <button class="btn btn-primary" id="export-pdf">Export PDF</button>
                        @* <label for="theme-switcher" id="theme-label">Switch Theme</label>
                        <label class="switch">
                            <input type="checkbox" id="theme-switcher" onchange="SwitchTheme()">
                            <span class="slider round"></span>
                        </label> *@
                    </div>
                </div>
                <div class="" id="loading-screen" style="display: none;"> @* Invisible loading screen *@
                    <div id="loading-content">
                        <div class="loading-spinner"></div>
                        <p>Please wait while your resume is improved...</p>
                    </div>
                </div>
                <div class="text-center">
                    <p class="text-danger">Please be aware that this content is AI-generated and should not be blindly trusted. Always verify the information independently.</p>
                </div>
                <div class="container">
                    <div class="editor-container">
                        <div id="editor1" class="editor"></div>
                        <div class="arrow">
                            <div id="job-description-input" class="invisible">
                                <h5>Job Description</h5>
                                <textarea id="job-description" class="form-control" rows="10"></textarea>
                            </div>
                            <i class="fa fa-long-arrow-right fa-4x"></i>
                            <button class="btn btn-primary" id="save-and-apply">Save and Apply</button>
                        </div>
                        <div id="editor2" class="editor"></div>
                    </div>
                </div>

            }
            else
            {
                <div class="alert alert-danger" role="alert">
                    <strong>Oops!</strong> No resume found.
                </div>
            }
        </div>
        <script src="~/lib/jquery/dist/jquery.min.js"></script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <script src="~/js/site.js" asp-append-version="true"></script>
        <script type="text/javascript" src="~/js/ImproveResume.js"></script>
    </body>
</div>

</html>