@model ResuMeta.ViewModels.ProfileVM;
@{
    ViewData["Title"] = "Your Profile";
}
@section Styles {
    <link rel="stylesheet" href="~/css/YourDashboard.css" asp-append-version="true" />
}

<section>
    <div class="text-center">
        <h1 class="display-4 title">Your Profile</h1>
        <hr />
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <div class="form-group profile-picture-group">
                        @if (Model.ProfilePicturePath != null && Model.ProfilePicturePath.Length > 0)
                        {
                            <img id="currentProfilePicture"
                                src="data:image;base64,@Convert.ToBase64String(Model.ProfilePicturePath)"
                                alt="Profile Picture" class="img-thumbnail" style="width: 150px; height: 150px;"/>
                        }
                        else
                        {
                            <img id="currentProfilePicture" src="~/Images/profile.svg" alt="Profile Picture"
                                class="profile-placeholder img-thumbnail" />
                        }
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row">
                        <div class="text-center">
                            <h1>@Model.UserName</h1>
                        </div>
                    </div>
                    <div class="row">
                        <h4>@Model.FirstName @Model.LastName</h4>
                    </div>
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="text-center">@Model.Description</div>
            </div>
            <hr />
            <div class="row">
                @if (Model.Resume != null)
                {
                    <h4 class="mt-3 text-center">Showcased Resume:</h4>
                    <section id="resume-section">
                        <div class="thumbnail">
                            <div class="resume-content-ids" id="resume-content"></div>
                        </div>
                        <script type="text/javascript">
                            var resumeContentDiv = document.getElementById('resume-content');
                            resumeContentDiv.innerHTML = decodeURIComponent("@Html.Raw(Model.Resume)");
                        </script>
                    </section>
                }
                else
                {
                    <h4 class="mt-3 text-center">No Resume Uploaded</h4>
                }
            </div>
        </div>
    </div>

@section Scripts {
    
}